<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SIP + Lumpsum Target Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
    }
    .calculator {
      background-color: #ffffff;
      width: 500px;
      margin: 50px auto;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      position: relative;
    }
    .logo {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 80px;
    }
    h2 {
      text-align: center;
    }
    input, button, .output-box {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      margin-bottom: 20px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .output-box {
      background-color: #f8f9fa;
      font-weight: bold;
    }
    label {
      font-weight: bold;
    }
    .slider-value {
      text-align: right;
      font-size: 14px;
    }
  </style>
</head>
<body>
<img src="Logo.png" alt="Anand Rathi Logo" class="logo">
<div class="calculator">
  <img src="your-image.png" alt="Logo" class="logo">
  <h2>SIP + Lumpsum Target Calculator</h2>
  
  <label>Lumpsum Investment (₹):</label>
  <input type="number" id="lumpsum" placeholder="Enter lumpsum investment">
  
  <label>SIP Yearly Step-up Rate (%):</label>
  <input type="number" id="stepup" placeholder="Enter yearly step-up rate">
  
  <label>Expected Rate of Return (%):</label>
  <input type="range" min="5" max="20" value="12" id="returnRate" oninput="updateSliderValue()">
  <div class="slider-value">Selected: <span id="sliderValue">12</span>%</div>
  
  <label>Enter Target Value (₹):</label>
  <input type="number" id="target" placeholder="Enter your target value">
  
  <label>Time to get to your target (years):</label>
  <input type="number" id="timeFrame" placeholder="Enter timeframe in years">

  <button onclick="calculateSIP()">Calculate</button>
  
  <div class="output-box" id="result"></div>
</div>

<script>
function updateSliderValue() {
  document.getElementById("sliderValue").innerText = document.getElementById("returnRate").value;
}

function calculateSIP() {
  const lumpsum = parseFloat(document.getElementById("lumpsum").value) || 0;
  const stepup = parseFloat(document.getElementById("stepup").value) / 100 || 0;
  const expectedReturn = parseFloat(document.getElementById("returnRate").value) / 100;
  const target = parseFloat(document.getElementById("target").value) || 0;
  const years = parseInt(document.getElementById("timeFrame").value) || 0;
  
  const monthlyRate = Math.pow(1 + expectedReturn, 1/12) - 1;
  let sip = 0;
  
  // Iterative approach to find SIP required
  for (let testSip = 100; testSip < 100000; testSip += 100) {
    let futureValue = lumpsum * Math.pow(1 + expectedReturn, years);
    let currentSip = testSip;
    for (let i = 1; i <= years * 12; i++) {
      futureValue += currentSip * Math.pow(1 + monthlyRate, (years * 12 - i));
      if (i % 12 === 0) currentSip = currentSip * (1 + stepup);
    }
    if (futureValue >= target) {
      sip = testSip;
      break;
    }
  }

  // Calculate final output numbers:
  let finalValue = lumpsum * Math.pow(1 + expectedReturn, years);
  let invested = lumpsum;
  let currentSip = sip;
  for (let i = 1; i <= years * 12; i++) {
    invested += currentSip;
    finalValue += currentSip * Math.pow(1 + monthlyRate, (years * 12 - i));
    if (i % 12 === 0) currentSip = currentSip * (1 + stepup);
  }
  
  const shortfall = target - finalValue;
  let outputText = `Monthly SIP required: ₹${sip.toLocaleString()}<br>`;
  outputText += `Total Investment: ₹${Math.round(invested).toLocaleString()}<br>`;
  outputText += `Total Value: ₹${Math.round(finalValue).toLocaleString()}<br>`;
  
  if (shortfall > 0) {
    outputText += `Shortfall from Target: ₹${Math.round(shortfall).toLocaleString()}`;
  } else {
    outputText += `Achieved Target! Excess: ₹${Math.round(Math.abs(shortfall)).toLocaleString()}`;
  }
  
  document.getElementById("result").innerHTML = outputText;
}
</script>

</body>
</html>
